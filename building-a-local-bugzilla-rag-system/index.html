<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Building a Local Bugzilla RAG System - Zoltán's Blog</title><meta name=description content="A guide to building a local RAG system for Bugzilla data using Ollama and ChromaDB."><meta name=author content="map[email:zoltan.balogh@suse.com github:bzoltan1 linkedin:zbalogh name:Zoltán Balogh]"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"Zoltán\u0027s Blog","url":"https:\/\/bzoltan1.github.io\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/bzoltan1.github.io\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/bzoltan1.github.io\/","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/bzoltan1.github.io\/building-a-local-bugzilla-rag-system\/","name":"Building a local bugzilla rag system"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":"Zoltán Balogh"},"headline":"Building a Local Bugzilla RAG System","description":"My goal was to build a local database that could:\nIngest my ~4GB Bugzilla database Answer questions or give advice on new bugs based on historical ones Run offline on my openSUSE Tumbleweed machine, which is equipped with 64GB RAM and an AMD Ryzen 7 PRO 7840U Naturally, my first idea was to build a standalone LLM like GPT. But fine-tuning an LLM on custom data is resource-intensive—a massive understatement. When I started to fine-tune an LLM on my laptop, I let the process run for a full week, and it reached only 1%. Using cloud-based services or investing in powerful new hardware were not options. Also, the problem with standalone LLMs is that they may hallucinate or generate inaccurate information, especially on domain-specific topics. The other disadvantage of using LLMs is that they are static; once trained, they don\u0026rsquo;t know anything that happened afterward.\n","inLanguage":"en","wordCount":740,"datePublished":"2025-05-23T10:00:00\u002b02:00","dateModified":"2025-05-23T10:00:00\u002b02:00","image":"https:\/\/bzoltan1.github.io\/avatar.png","keywords":["LLM, RAG, Bugzilla, Ollama, ChromaDB, openSUSE"],"mainEntityOfPage":"https:\/\/bzoltan1.github.io\/building-a-local-bugzilla-rag-system\/","publisher":{"@type":"Organization","name":"https:\/\/bzoltan1.github.io\/","logo":{"@type":"ImageObject","url":"https:\/\/bzoltan1.github.io\/avatar.png","height":60,"width":60}}}</script><meta property="og:title" content="Building a Local Bugzilla RAG System"><meta property="og:description" content="A guide to building a local RAG system for Bugzilla data using Ollama and ChromaDB."><meta property="og:image" content="https://bzoltan1.github.io/avatar.png"><meta property="og:url" content="https://bzoltan1.github.io/building-a-local-bugzilla-rag-system/"><meta property="og:type" content="website"><meta property="og:site_name" content="Zoltán's Blog"><meta name=twitter:title content="Building a Local Bugzilla RAG System"><meta name=twitter:description content="A guide to building a local RAG system for Bugzilla data using Ollama and ChromaDB."><meta name=twitter:image content="https://bzoltan1.github.io/avatar.png"><meta name=twitter:card content="summary_large_image"><link href=https://bzoltan1.github.io/avatar.png rel=icon type=image/x-icon><meta name=generator content="Hugo 0.147.5"><link rel=alternate href=https://bzoltan1.github.io/index.xml type=application/rss+xml title="Zoltán's Blog"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.5.0/css/all.css integrity=sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU crossorigin=anonymous><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link rel=stylesheet href=https://bzoltan1.github.io/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=https://bzoltan1.github.io/css/syntax.css><link rel=stylesheet href=https://bzoltan1.github.io/css/codeblock.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css integrity=sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css integrity=sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R crossorigin=anonymous></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span>
</button>
<a class=navbar-brand href=https://bzoltan1.github.io/>Zoltán's Blog</a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li><a title=Blog href=https://bzoltan1.github.io/>Blog</a></li><li><a title=Tags href=https://bzoltan1.github.io/tags>Tags</a></li><li><a title=Home href=https://bzoltan1.github.io/>Home</a></li><li><a title=About href=https://bzoltan1.github.io/about>About</a></li></ul></div><div class=avatar-container><div class=avatar-img-border><a title="Zoltán's Blog" href=https://bzoltan1.github.io/><img class=avatar-img src=https://bzoltan1.github.io/avatar.png alt="Zoltán's Blog"></a></div></div></div></nav><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><h1>Building a Local Bugzilla RAG System</h1><h2 class=post-subheading>A guide to building a local RAG system for Bugzilla data using Ollama and ChromaDB.</h2><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on May 23, 2025
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Zoltán Balogh</span></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role=main class=blog-post><p>My goal was to build a local database that could:</p><ul><li>Ingest my ~4GB Bugzilla database</li><li>Answer questions or give advice on new bugs based on historical ones</li><li>Run offline on my openSUSE Tumbleweed machine, which is equipped with 64GB RAM and an AMD Ryzen 7 PRO 7840U</li></ul><p>Naturally, my first idea was to build a standalone LLM like GPT. But fine-tuning an LLM on custom data is resource-intensive—a massive understatement. When I started to fine-tune an LLM on my laptop, I let the process run for a full week, and it reached only 1%. Using cloud-based services or investing in powerful new hardware were not options. Also, the problem with standalone LLMs is that they may hallucinate or generate inaccurate information, especially on domain-specific topics. The other disadvantage of using LLMs is that they are static; once trained, they don&rsquo;t know anything that happened afterward.</p><p>After several spectacular failures and frustrating dead ends, I figured out that I better try out Retrieval-Augmented Generation (RAG). RAG is considered better than other approaches involving natural language generation because it combines the strengths of Pre-trained Language Models (for fluent generation and reasoning) and External Knowledge Retrieval (for up-to-date, grounded information).</p><p>RAG retrieves relevant documents from a knowledge base (database, vector store) and uses them to anchor responses in actual facts. As no retraining is needed, it is easier and cheaper to maintain domain-specific knowledge, which as a bonus, can be updated anytime.</p><p>I found these three articles interesting on the subject:</p><ul><li><a href=https://www.wired.com/story/reduce-ai-hallucinations-with-rag/>https://www.wired.com/story/reduce-ai-hallucinations-with-rag/</a></li><li><a href=https://blogs.nvidia.com/blog/what-is/retrieval-augmented-generation/>https://blogs.nvidia.com/blog/what-is-retrieval-augmented-generation/</a></li><li><a href=https://aws.amazon.com/what-is/retrieval-augmented-generation/>https://aws.amazon.com/what-is/retrieval-augmented-generation/</a></li></ul><h2 id=downloading-bugzilla-records-for-offline-use>Downloading Bugzilla Records for Offline Use</h2><p>I’ve written a small utility to download all Bugzilla records into a local database. This is especially useful for teams who need to analyze historical bug data without exposing their sensitive data to online services. After all, data protection does matter.</p><p>The script uses the Bugzilla REST API and supports full dataset extraction, including bugs, comments, and metadata. It’s designed to be robust, simple, and easy to customize for different Bugzilla setups.</p><p>You can find it here: <a href=https://github.com/bzoltan1/download-bugzilla>github.com/bzoltan1/download-bugzilla</a></p><p>It is important to note that this script may be extremely slow. Also, there is a reason why the API keys are an array. Some Bugzilla servers have limitations for API keys. For such servers, and if the Bugzilla database is huge, it is safer to have ten or even more keys.</p><p><code>$ python ./download_bugzilla.py</code></p><p>This command creates a <code>bug_reports.json</code> file with all the Bugzilla records.</p><h2 id=convert-bugzilla-records-to-chroma-database>Convert Bugzilla records to Chroma Database</h2><p>The next step is to index Bugzilla bug reports stored in local JSON files into a Chroma vector database for semantic search and retrieval.</p><p>Chroma is useful because it lets me search and organize text data based on meaning, not just keywords. In our case, it means I can search Bugzilla bug reports and find similar ones, even if they don&rsquo;t use the exact same words.</p><p>Instead of just indexing text like a traditional database, Chroma turns each bug report into a vector (a list of numbers that represent its meaning). This allows it to compare bugs by their content, which is helpful for finding duplicates, related issues, or patterns.</p><p>It&rsquo;s fast, works well with large datasets, and is easy to use in Python. It&rsquo;s a good choice for building a smarter search or analysis tool using Bugzilla data.</p><p>The process involves:</p><ul><li>Loading the <code>bug_reports.json</code> file.</li><li>Flattening each bug into a plain text &ldquo;document.&rdquo;</li><li>Creating embeddings using <code>sentence-transformers</code>.</li><li>Storing them in a local Chroma vector DB.</li></ul><p><code>$ pip install -U chromadb sentence-transformers langchain-community langchain-chroma langchain-huggingface langchain-ollama</code>
<code>$ python ./index_bugs_to_chroma.py</code></p><p>The code is from here: <a href=https://github.com/bzoltan1/download-bugzilla/blob/main/index_bugs_to_chroma.py>https://github.com/bzoltan1/download-bugzilla/blob/main/index_bugs_to_chroma.py</a></p><h2 id=run-a-local-llm>Run a Local LLM</h2><p>Ollama is an easy solution with full models like Mistral, Llama3, or Phi. And Ollama is available on openSUSE Tumbleweed:</p><p><code>$ sudo zypper in ollama</code>
<code>$ sudo systemctl enable ollama</code>
<code>$ sudo systemctl start ollama</code></p><h2 id=make-a-simple-query-interface-rag-retrieval--generation>Make a Simple Query Interface (RAG Retrieval + Generation)</h2><p>Finally, I needed a simple script that lets me ask questions in plain English about my Bugzilla bug reports and returns smart, helpful answers.</p><p>Here is the code: <a href=https://github.com/bzoltan1/download-bugzilla/blob/main/query_interface.py>https://github.com/bzoltan1/download-bugzilla/blob/main/query_interface.py</a></p><p><code>$ python3.13 query_interface.py</code>
<code>Ask a question about the Bugzilla data (Ctrl+C to exit):</code></p><p><code>Prompt:</code></p><p>It works by finding the most relevant Bugzilla records using a vector search (based on meaning, not just keywords), then feeding those to a local language model (Mistral via Ollama) to generate a response.</p><p>The result is a Retrieval-Augmented Generation (RAG) system that gives answers grounded in your actual data, all running locally from the command line.</p><div class=blog-tags><a href=https://bzoltan1.github.io/tags/llm/>LLM</a>&nbsp;
<a href=https://bzoltan1.github.io/tags/rag/>RAG</a>&nbsp;
<a href=https://bzoltan1.github.io/tags/bugzilla/>Bugzilla</a>&nbsp;
<a href=https://bzoltan1.github.io/tags/ollama/>Ollama</a>&nbsp;
<a href=https://bzoltan1.github.io/tags/chromadb/>ChromaDB</a>&nbsp;
<a href=https://bzoltan1.github.io/tags/opensuse/>openSUSE</a>&nbsp;</div></article><ul class="pager blog-pager"><li class=previous><a href=https://bzoltan1.github.io/paradigm-shifts-in-software-development/ data-toggle=tooltip data-placement=top title="Paradigm shifts in software development">&larr; Previous Post</a></li></ul></div></div></div><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href=mailto:zoltan.balogh@suse.com title="Email me"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-envelope fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://github.com/bzoltan1 title=GitHub><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://linkedin.com/in/zbalogh title=LinkedIn><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="credits copyright text-muted">Zoltán Balogh
&nbsp;&bull;&nbsp;&copy;
2025
&nbsp;&bull;&nbsp;
<a href=https://bzoltan1.github.io/>Zoltán's Blog</a></p><p class="credits theme-by text-muted"><a href=https://gohugo.io>Hugo v0.147.5</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a></p></div></div></div></footer><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.js integrity=sha384-G0zcxDFp5LWZtDuRMnBkk3EphCK1lhEf4UEyEM693ka574TZGwo4IWwS6QLzM/2t crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous onload=renderMathInElement(document.body)></script><script src=https://code.jquery.com/jquery-3.7.0.slim.min.js integrity=sha384-w5y/xIeYixWvfM+A1cEbmHPURnvyqmVg5eVENruEdDjcyRLUSNej7512JQGspFUr crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js integrity=sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd crossorigin=anonymous></script><script src=https://bzoltan1.github.io/js/main.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js integrity=sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js integrity=sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q crossorigin=anonymous></script><script src=https://bzoltan1.github.io/js/load-photoswipe.js></script></body></html>